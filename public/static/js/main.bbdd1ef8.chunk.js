(this["webpackJsonpget-scripts"]=this["webpackJsonpget-scripts"]||[]).push([[0],{213:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),o=a.n(l),u=a(11),c=a(4),i=a(5),s=a(9),m=a(8),h=a(10),g=a(23),p=a.n(g),d=new(function(){function e(){Object(c.a)(this,e),this.auth=p.a.create({baseURL:"https://freerecordz-deploy-lecture.herokuapp.com",withCredentials:!0})}return Object(i.a)(e,[{key:"signup",value:function(e){var t=e.email,a=e.firstName,n=e.lastName,r=e.username,l=e.password;return this.auth.post("/auth/signup",{email:t,firstName:a,lastName:n,username:r,password:l}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/login",{username:t,password:a}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),b=r.a.createContext(),E=b.Consumer,f=b.Provider,v=function(e){return function(t){function a(){return Object(c.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(h.a)(a,t),Object(i.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(E,null,(function(a){var n=a.login,l=a.signup,o=a.logout,u=a.user,c=a.isLoggedIn;return r.a.createElement(e,Object.assign({user:u,isLoggedIn:c,login:n,signup:l,logout:o},t.props))}))}}]),a}(n.Component)},O=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!1,user:null,isLoading:!0},a.signup=function(e,t,n,r,l){d.signup({username:e,password:t,email:n,firstName:r,lastName:l}).then((function(e){return a.setState({isLoggedIn:!0,user:e})})).catch((function(e){return console.log(e)}))},a.login=function(e,t){d.login({username:e,password:t}).then((function(e){return a.setState({isLoggedIn:!0,user:e},(function(){return console.log("this.state.isLoggedin",a.state.isLoggedIn)}))})).catch((function(e){return console.log(e)}))},a.logout=function(){d.logout().then((function(){return a.setState({isLoggedIn:!1,user:null},(function(){return console.log("Log out",a.state.isLoggedIn)}))})).catch((function(e){return console.log(e)}))},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.me().then((function(t){return e.setState({isLoggedIn:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedIn:!1,user:null,isLoading:!1},(function(){return console.log("meeeeee",e.state.isLoggedIn)}))}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedIn,n=e.user,l=this.login,o=this.logout,u=this.signup;return r.a.createElement(f,{value:{isLoading:t,isLoggedIn:a,user:n,login:l,logout:o,signup:u}},t?"Loading":this.props.children)}}]),t}(r.a.Component),y=(a(72),a(20)),C=(a(73),v(function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.logout,n=e.isLoggedIn;return console.log("this.props :",this.props),r.a.createElement("nav",{className:"navbar"},r.a.createElement(u.b,{to:"/",id:"home-btn"},r.a.createElement("h4",null,"Home")),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"username: ",t.username),r.a.createElement("button",{onClick:function(){a()}},"Logout"),r.a.createElement(u.b,{to:"/search"}," ",r.a.createElement("button",{className:"navbar-button"},"Search")," ")):r.a.createElement(r.a.Fragment,null,r.a.createElement(u.b,{to:"/login"}," ",r.a.createElement("button",{className:"navbar-button"},"Login")," "),r.a.createElement("br",null),r.a.createElement(u.b,{to:"/signup"}," ",r.a.createElement("button",{className:"navbar-button"},"Sign Up")," ")))}}]),t}(n.Component))),j=v(function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout,e.isLoggedIn);return r.a.createElement("nav",{className:"navbar"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(u.b,{to:"/feed"}," ",r.a.createElement("button",{className:"navbar-button"},"NewsFeed")," "),r.a.createElement("br",null),r.a.createElement(u.b,{to:"/upload"}," ",r.a.createElement("button",{className:"navbar-button"},"Upload")," "),r.a.createElement(u.b,{to:"/private"}," ",r.a.createElement("button",{className:"navbar-button"},"Profile")," ")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Welcome")))}}]),t}(n.Component));var L=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Landing page, accessible without login"),r.a.createElement("h2",null,"This will be the newsfeed"))},w=a(19),k=a(3),I=a(22),S=v(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",email:"",firstName:"",lastName:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password,l=t.email,o=t.firstName,u=t.lastName;a.props.signup(n,r,l,o,u)},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(w.a)({},n,r))},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.email,l=e.firstName,o=e.lastName;return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement(k.a,{onSubmit:this.handleFormSubmit},r.a.createElement(k.a.Group,{controlId:"formBasicFname"},r.a.createElement(k.a.Label,null,"Firstname"),r.a.createElement(k.a.Control,{type:"text",placeholder:"Enter your firstname",name:"firstName",value:l,onChange:this.handleChange})),r.a.createElement(k.a.Group,{controlId:"formBasicLname"},r.a.createElement(k.a.Label,null,"Surname"),r.a.createElement(k.a.Control,{type:"text",placeholder:"Enter your surname",name:"lastName",value:o,onChange:this.handleChange})),r.a.createElement(k.a.Group,{controlId:"formBasicEmail"},r.a.createElement(k.a.Label,null,"Email"),r.a.createElement(k.a.Control,{type:"email",placeholder:"Enter your email",name:"email",value:n,onChange:this.handleChange})),r.a.createElement(k.a.Group,{controlId:"formBasicUsername"},r.a.createElement(k.a.Label,null,"Username"),r.a.createElement(k.a.Control,{type:"text",placeholder:"Enter your username",name:"username",value:t,onChange:this.handleChange})),r.a.createElement(k.a.Group,{controlId:"formBasicPassword"},r.a.createElement(k.a.Label,null,"Password"),r.a.createElement(k.a.Control,{type:"password",placeholder:"Enter your password",name:"password",value:a,onChange:this.handleChange})),r.a.createElement(I.a,{variant:"primary",type:"submit"},"Submit")),r.a.createElement("p",null,"Already have account?"),r.a.createElement(u.b,{to:"/login"}," Login"))}}]),t}(n.Component)),x=v(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;a.props.login(n,r)},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(w.a)({},n,r))},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(k.a,{onSubmit:this.handleFormSubmit},r.a.createElement(k.a.Group,{controlId:"formBasicEmail"},r.a.createElement(k.a.Label,null,"Username"),r.a.createElement(k.a.Control,{type:"text",placeholder:"Enter your username",name:"username",value:t,onChange:this.handleChange})),r.a.createElement(k.a.Group,{controlId:"formBasicPassword"},r.a.createElement(k.a.Label,null,"Password"),r.a.createElement(k.a.Control,{type:"password",placeholder:"Enter your password",name:"password",value:a,onChange:this.handleChange})),r.a.createElement(I.a,{variant:"primary",type:"submit"},"Submit")))}}]),t}(n.Component)),N=v(function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.user,t=e.email,a=e.firstName,n=e.lastName,l=e.username,o=e.password,u=e.savedMusicArr;return r.a.createElement("div",null,r.a.createElement("h1",null,"Private Route"),r.a.createElement("h1",null,"Welcome ",l," to your profile"),r.a.createElement("h3",null,"Your email: ",t),r.a.createElement("h3",null,"your Firstname: ",a),r.a.createElement("h3",null,"Your Lastname: ",n),r.a.createElement("h3",null,"Your username: ",l),r.a.createElement("h3",null,"Your password: ",o),r.a.createElement("h3",null,"Your saved tracks: ",u))}}]),t}(n.Component)),F=new(function(){function e(){Object(c.a)(this,e),this.track=p.a.create({baseURL:"https://freerecordz-deploy-lecture.herokuapp.com",withCredentials:!0})}return Object(i.a)(e,[{key:"listAll",value:function(){return this.track.get("/").then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"upload",value:function(e,t,a,n,r,l,o,u,c,i,s,m){return this.track.post("/upload",{url:e,title:t,desc:a,bpm:n,countryOfOrigin:r,language:l,releaseYear:o,budget:u,recordingEnviroment:c,genre:i,instrumentsIncl:s,mood:m}).then((function(e){var t=e.data;return console.log("data :",t),t}))}},{key:"getUrl",value:function(e){return this.track.post("/upload/url",e).then((function(e){var t=e.data;return console.log("data :",t),t}))}}]),e}()),T=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={url:"",title:"",desc:"",bpm:"",genre:"",countryOfOrigin:"",language:"",insturmentsIncl:"",releaseYear:"",mood:"",budget:"",recordingEnviroment:"",user:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.url,r=t.title,l=t.desc,o=t.bpm,u=t.countryOfOrigin,c=t.language,i=t.releaseYear,s=t.budget,m=t.recordingEnviroment,h=t.genre,g=t.instrumentsIncl,p=t.mood;console.log("url :",n),F.upload(n,r,l,o,u,c,i,s,m,h,g,p)},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(w.a)({},n,r))},a.fileOnchange=function(e){var t=e.target.files[0];console.log("file :",t);var a=new FormData;a.append("url",t),console.log("uploadData :",a),F.getUrl(a).then((function(e){return console.log(e)}))},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.desc;e.bpm,e.genre,e.countryOfOrigin,e.language,e.insturmentsIncl,e.releaseYear,e.mood,e.budget,e.recordingEnviroment;return r.a.createElement("div",null,r.a.createElement("h1",null,"Upload Track"),r.a.createElement(k.a,{onSubmit:this.handleFormSubmit},r.a.createElement(k.a.Group,{controlId:"formBasicTitle"},r.a.createElement(k.a.Label,null,"Title"),r.a.createElement(k.a.Control,{type:"text",placeholder:"Enter your title",name:"title",value:t,onChange:this.handleChange})),r.a.createElement(k.a.Group,{controlId:"fromBasicDesc"},r.a.createElement(k.a.Label,null,"Description"),r.a.createElement(k.a.Control,{as:"textarea",rows:"3",name:"desc",value:a,onChange:this.handleChange}))))}}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={url:"",title:"",desc:"",bpm:"",genre:"",countryOfOrigin:"",language:"",insturmentsIncl:"",releaseYear:"",mood:"",budget:"",recordingEnviroment:"",user:""},a.handleFormSubmit=function(e){e.preventDefault()},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(w.a)({},n,r))},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.desc,n=e.bpm,l=e.genre,o=e.countryOfOrigin,u=e.language,c=e.insturmentsIncl,i=e.releaseYear,s=e.mood,m=e.budget,h=e.recordingEnviroment;return r.a.createElement("div",null,r.a.createElement("h1",null,"Search Track"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",name:"title",value:t,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Description"),r.a.createElement("input",{type:"text",name:"desc",value:a,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"BPM"),r.a.createElement("input",{type:"text",name:"bpm",value:n,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Genre"),r.a.createElement("input",{type:"text",name:"genre",value:l,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Country of Origin"),r.a.createElement("input",{type:"text",name:"countryOfOrigin",value:o,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Language"),r.a.createElement("input",{type:"text",name:"language",value:u,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"instrumentsIncl"),r.a.createElement("input",{type:"text",name:"insturmentsIncl",value:c,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Release Year"),r.a.createElement("input",{type:"text",name:"releaseYear",value:i,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Mood"),r.a.createElement("input",{type:"text",name:"mood ",value:s,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Budget"),r.a.createElement("input",{type:"text",name:"budget",value:m,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Recording Enviroment"),r.a.createElement("input",{type:"text",name:"recordingEnviroment",value:h,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Search"})))}}]),t}(n.Component),B=(a(80),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={allTracks:[]},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;F.listAll().then((function(t){e.setState({allTracks:t})}))}},{key:"render",value:function(){return console.log("this.state.allTracks :",this.state.allTracks),r.a.createElement("div",null,r.a.createElement("h1",null,"This is a PrivateRoute Page for the Feed"),r.a.createElement("h2",null,"This will be the newsfeed"),this.state.allTracks.map((function(e){return r.a.createElement("h1",null,e.url)})))}}]),t}(n.Component)),D=a(24);var P=v((function(e){var t=e.component,a=e.isLoggedIn,n=Object(D.a)(e,["component","isLoggedIn"]);return(r.a.createElement(y.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(y.a,{to:"/private"}):a?void 0:r.a.createElement(t,e)}})))}));var U=v((function(e){var t=e.component,a=e.isLoggedIn,n=Object(D.a)(e,["component","isLoggedIn"]);return r.a.createElement(y.b,Object.assign({},n,{render:function(e){return console.log("PrivateRoute",a),a?r.a.createElement(t,e):a?void 0:r.a.createElement(y.a,{to:"/login"})}}))})),A=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(C,null),r.a.createElement(y.d,null,r.a.createElement(y.b,{exact:!0,path:"/",component:L}),r.a.createElement(P,{exact:!0,path:"/signup",component:S}),r.a.createElement(P,{exact:!0,path:"/login",component:x}),r.a.createElement(U,{exact:!0,path:"/private",component:N}),r.a.createElement(U,{exact:!0,path:"/upload",component:T}),r.a.createElement(U,{exact:!0,path:"/search",component:Y}),r.a.createElement(U,{exact:!0,path:"/feed",component:B})),r.a.createElement(j,null))}}]),t}(n.Component);o.a.render(r.a.createElement(u.a,null,r.a.createElement(O,null,r.a.createElement(A,null))),document.getElementById("root"))},52:function(e,t,a){e.exports=a(213)},72:function(e,t,a){}},[[52,1,2]]]);
//# sourceMappingURL=main.bbdd1ef8.chunk.js.map